<div class="flex-container" ng-if="scoring.doWeHaveAWinner()==''">
    <div class="card card-body mb-1 flex-grow-0">
        <div class="row heading">
            <div class="col-4 text-center">
                I<br /> {{scoring.iTotal}}
            </div>
            <div class="col-4 text-center">
                <button type="button" class="btn btn-primary mb-1 mx-auto playing-card" data-toggle="modal" data-target="#scoreModal">
                    {{scoring.getRoundChar()}}
                </button>
            </div>
            <div class="col-4 text-center">
                S<br /> {{scoring.sTotal}}
            </div>
        </div>
    </div>

    <div class="card card-body bottom flex-grow-1">
        <div class="row border-bottom" ng-repeat="x in [].constructor(scoring.getRound()) track by $index">
            <div class="col-4 p-0 text-center">{{scoring.getScore('i', $index)}}</div>
            <div class="col-4 p-0 text-center text-nowrap">
                <span ng-show="!scoring.showMinus($index)">{{scoring.rounds[$index]}}</span>
                <span class="text-danger" ng-show="scoring.showMinus($index)" ng-click="scoring.removeScore($index)">{{scoring.rounds[$index]}}</span>
            </div>
            <div class="col-4 p-0 text-center">{{scoring.getScore('s', $index)}}</div>
        </div>
    </div>
</div>

<div class="winner pyro" ng-if="scoring.doWeHaveAWinner()!=''">
    <div class="before"></div>
    <div class="card card-body text-center">
        <h1>{{scoring.doWeHaveAWinner()}}</h1>
        <h1 class="mb-5">wins!</h1>

        <div class="mb-1">I scored {{scoring.iTotal}}</div>
        <div class="mb-5">S scored {{scoring.sTotal}}</div>

        <button type="button" class="btn btn-danger mb-1 mx-auto" ng-click="scoring.clearScores()">Reset</button>
    </div>
    <div class="after"></div>
</div>

<!-- Modal -->
<div class="modal fade" id="scoreModal" tabindex="-1" role="dialog" aria-labelledby="scoreModalTitle" aria-hidden="true">
    <div class="modal-dialog " role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Scores for round {{scoring.getRoundChar()}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group row">
                    <label class="col-2 col-form-label text-center">I</label>
                    <div class="col-10">
                        <input type="number" class="form-control" ng-model="iScore">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-2 col-form-label text-center">S</label>
                    <div class="col-10">
                        <input type="number" class="form-control" ng-model="sScore">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" ng-click="scoring.saveScore();">Save changes</button>
            </div>
        </div>
    </div>
</div>